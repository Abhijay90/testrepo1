<!DOCTYPE html>
<html lang="en">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
    <!-- Meta, title, CSS, favicons, etc. -->
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="icon" href="images/favicon.ico" type="image/ico" />
    <meta name="theme-color" content="#4E00FF" />

    <title>BENCHMARK METRICS</title>

    <!-- Bootstrap -->
    <link href="../static/vendors/bootstrap/dist/css/bootstrap.min.css" rel="stylesheet">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/jqueryui/1.12.1/jquery-ui.min.css" rel="stylesheet">
    <!-- Font Awesome -->
    <link href="../static/vendors/font-awesome/css/font-awesome.min.css" rel="stylesheet">
    <!-- NProgress -->
    <link href="../static/vendors/nprogress/nprogress.css" rel="stylesheet">
    <!-- iCheck -->
    <link href="../static/vendors/iCheck/skins/flat/green.css" rel="stylesheet">
  
    <!-- bootstrap-progressbar -->
    <link href="../static/vendors/bootstrap-progressbar/css/bootstrap-progressbar-3.3.4.min.css" rel="stylesheet">
    <!-- JQVMap -->
    <link href="../static/vendors/jqvmap/dist/jqvmap.min.css" rel="stylesheet"/>
    <!-- bootstrap-daterangepicker -->
    <link href="../static/vendors/bootstrap-daterangepicker/daterangepicker.css" rel="stylesheet">

    <!-- Custom Theme Style -->
    <link href="../static/build/css/custom.min.css" rel="stylesheet">

    <!-- New Styles -->
    <link href="../static/build/css/ncreato.css" rel="stylesheet">

  </head>

  <body>
    <div class="container main">
        <section class="top_prof">
          <div class=" prime">
              <div class="valign" style="height:100%">
                <div class="row" style="height:100%">
                  <div style="height:100%">

                      <div class="pp_out dropdown">
                        <div class="pp dropbtn">
                          <img src="../static/build/images/dummy-profile.jpg" alt="Profile Name" />
                        </div>
                        <div class="dropdown-content">
                          <a href="/profile">Profile</a>
                          <a href="/logout">Logout</a>
                        </div>
                      </div>

                      <!-- <div class="pdet_out dropbtn">
                        <div class="pdet valign">
                          <h3>Alex Pandiyan</h3>
                          <h6>CHRO</h6>
                          <h6><span>TATA CONSULTANCY SERVICES</span></h6>
                        </div>
                      </div> -->

                    
                    
                    <div class="clear"></div>
                  </div>
                </div>
              </div>
          </div>
        </section>
        <section class="middle_scroll">
          <div class="row scroll" style="height:100%">
            <div class="col-md-12 col-xs-12" style="height:100%">
              <div id="myCarousel0" class="carousel slide desktop" data-ride="carousel" data-type="multi" data-interval="2500" style="height:60%">
                <!-- Indicators -->
                <ol class="carousel-indicators" style="display:none">
                  <li data-target="#myCarousel" data-slide-to="0" class="active"></li>
                  <li data-target="#myCarousel" data-slide-to="1"></li>
                  <li data-target="#myCarousel" data-slide-to="2"></li>
                  <li data-target="#myCarousel" data-slide-to="3"></li>
                </ol>

                <!-- Wrapper for slides -->
                <div class="carousel-inner ci0" role="listbox">


                  <div class="item i1 active" id="data0">

                    <div class="item-head">
                      <div ><h3 id="title0"> </h3></div>
                      <div class="btns">
                        <button  class ="active" onclick="change_tab('tier',0);$('#data0 .btns button').removeClass('active'); $(this).addClass('active');" id="def_click0">TIER</button>
                        <button onClick="change_tab('industry',0);$('#data0  .btns button').removeClass('active'); $(this).addClass('active');">INDUSTRY</button>
                        <button onClick="change_tab('peers',0) ;$('#data0 .btns button').removeClass('active'); $(this).addClass('active');">PEERS</button>
                      </div>
                      <h6 class="item_hd">{{resp["head"]}}</h6>
                    </div>
                    <div class="chart_hold">
                      <div class="chart_view bar ">
                      
                      <div id="graph0" class="showhide gp"></div>
                      
                      </div>

                      
                      <div class="chart_view table valign">
                        <!-- tier data-->
                        <div id="data-table" >
                          <ul class="tb thead">
                            <li>Segment</li><li>Data</li>
                          </ul>

                          <div id="table_body0">

                          </div>


                        </div>
                        <!-- tier data-->
                      </div>
                      <table style="display:none" id = "graph-table0">
                         <thead>
                            <tr>
                                <th></th>
                                <th>Segments</th>
                                </tr>
                              </thead>
                            <tbody id = "table_body_graph0">                              
                            </tbody>
                      </table>




                    </div>
                  </div>


                  <div class="item i2 active" id="data1">

                    <div class="item-head">
                      <div ><h3 id="title1"> </h3></div>
                      <div class="btns">
                        <button  class ="active" onclick="change_tab('tier',1);$('#data1 .btns button').removeClass('active'); $(this).addClass('active');" id="def_click1">TIER</button>
                        <button onClick="change_tab('industry',1);$('#data1 .btns button').removeClass('active'); $(this).addClass('active');">INDUSTRY</button>
                        <button onClick="change_tab('peers',1) ;$('#data1 .btns button').removeClass('active'); $(this).addClass('active');">PEERS</button>
                      </div>
                      <h6 class="item_hd">{{resp["head"]}}</h6>
                    </div>
                    <div class="chart_hold">
                      <div class="chart_view bar ">
                      
                      <div id="graph1" class="showhide gp"></div>
                      
                      </div>

                      
                      <div class="chart_view table valign">
                        <!-- tier data-->
                        <div id="data-table" >
                          <ul class="tb thead">
                            <li>Segment</li><li>Data</li>
                          </ul>

                          <div id="table_body1">

                          </div>


                        </div>
                        <!-- tier data-->
                      </div>
                      <table style="display:none" id = "graph-table1">
                         <thead>
                            <tr>
                                <th></th>
                                <th>Segments</th>
                                </tr>
                              </thead>
                            <tbody id = "table_body_graph1">                              
                            </tbody>
                      </table>




                    </div>
                  </div>

                </div>

                <!-- Left and right controls -->
                <a class="left carousel-control" href="#myCarousel0"  onclick="go_prev_link();" role="button" data-slide="prev">
                  <span class="glyphicon glyphicon-chevron-left" aria-hidden="true"></span>
                  <span class="sr-only">Previous</span>
                </a>
                <a class="right carousel-control" href="#myCarousel0"  onclick="go_next_link()" role="button" data-slide="next">
                  <span class="glyphicon glyphicon-chevron-right" aria-hidden="true"></span>
                  <span class="sr-only" >Next</span>
                </a>
              </div>
              <div id="myCarousel1" class="carousel slide mobile" data-ride="carousel" data-type="multi" data-interval="2500" style="height:60%">
                <!-- Indicators -->
                <ol class="carousel-indicators" style="display:none">
                  <li data-target="#myCarousel" data-slide-to="0" class="active"></li>
                  <li data-target="#myCarousel" data-slide-to="1"></li>
                  <li data-target="#myCarousel" data-slide-to="2"></li>
                  <li data-target="#myCarousel" data-slide-to="3"></li>
                </ol>

                <!-- Wrapper for slides -->
                <div class="carousel-inner ci1" role="listbox">


                  <div class="item active" id="data2">

                    <div class="item-head">
                      <div ><h3 id="title2"> </h3></div>
                      <div class="btns">
                        <button  class ="active" onclick="change_tab('tier',2);$('#data2 .btns button').removeClass('active'); $(this).addClass('active');" id="def_click2">TIER</button>
                        <button onClick="change_tab('industry',2);$('#data2 .btns button').removeClass('active'); $(this).addClass('active');">INDUSTRY</button>
                        <button onClick="change_tab('peers',2) ;$('#data2 .btns button').removeClass('active'); $(this).addClass('active');">PEERS</button>
                      </div>
                      <h6 class="item_hd">{{resp["head"]}}</h6>
                    </div>
                    <div class="chart_hold">
                      <div class="chart_view bar ">
                      
                      <div id="graph2" class="showhide gp"></div>
                      
                      </div>

                      
                      <div class="chart_view table valign">
                        <!-- tier data-->
                        <div id="data-table" >
                          <ul class="tb thead">
                            <li>Segment</li><li>Data</li>
                          </ul>

                          <div id="table_body2">

                          </div>


                        </div>
                        <!-- tier data-->
                      </div>
                      <table style="display:none" id = "graph-table2">
                         <thead>
                            <tr>
                                <th></th>
                                <th>Segments</th>
                                </tr>
                              </thead>
                            <tbody id = "table_body_graph2">                              
                            </tbody>
                      </table>




                    </div>
                  </div>

                </div>

                <!-- Left and right controls -->
                <a class="left carousel-control" href="#myCarousel1"  onclick="go_prev_link();" role="button" data-slide="prev">
                  <span class="glyphicon glyphicon-chevron-left" aria-hidden="true"></span>
                  <span class="sr-only">Previous</span>
                </a>
                <a class="right carousel-control" href="#myCarousel1"  onclick="go_next_link()" role="button" data-slide="next">
                  <span class="glyphicon glyphicon-chevron-right" aria-hidden="true"></span>
                  <span class="sr-only" >Next</span>
                </a>
              </div>
              <div class="carousel-tabs desktop">
                <div class="carousel-tabs-inner">
                  <ul>
                    <li id="bar0"><img src="../static/build/images/icon4.png" /></li>
                    <li id="table0"><img src="../static/build/images/icon6.png" /></li>
                  </ul>
                  <ul>
                    <li id="bar1"><img src="../static/build/images/icon4.png" /></li>
                    <li id="table1"><img src="../static/build/images/icon6.png" /></li>
                  </ul>
                </div>
              </div>
              <div class="carousel-tabs mobile">
                <ul>
                  <li id="bar2"><img src="../static/build/images/icon4.png" /></li>
                  <li id="table2"><img src="../static/build/images/icon6.png" /></li>
                </ul>
              </div>
              <div class="carousel-bottom">
                <!-- <div class="btns">
                  <button>EXPORT</button>
                  <button>SHARE</button>
                </div> -->
                <img class="valign" src="../static/build/images/latest.jpg" />
              </div>
            </div>
          </div>
        </section>
        <section class="bottom_tabs">
          <ul class="valign">
            <li>
              <a href="/home"><span><i class="fa fa-lg fa-home"></i><br/>HOME</span></a>
            </li>
          </ul>
        </section>
    </div>
  </body>


    <!-- jQuery -->
    <script src="../static/vendors/jquery/dist/jquery.min.js"></script>
    <!-- Bootstrap -->
    <script src="../static/vendors/bootstrap/dist/js/bootstrap.min.js"></script>
    <!-- FastClick -->
    <!-- <script src="../static/vendors/fastclick/lib/fastclick.js"></script> -->
    <!-- NProgress -->
    <!-- <script src="../static/vendors/nprogress/nprogress.js"></script> -->
    <!-- Chart.js -->
    <script src="../static/vendors/Chart.js/dist/Chart.min.js"></script>
    <!-- gauge.js -->
    <!-- <script src="../static/vendors/gauge.js/dist/gauge.min.js"></script> -->
    <!-- bootstrap-progressbar -->
    <!-- <script src="../static/vendors/bootstrap-progressbar/bootstrap-progressbar.min.js"></script> -->
    <!-- iCheck -->
    <!-- <script src="../static/vendors/iCheck/icheck.min.js"></script> -->
    <!-- Skycons -->
    <!-- <script src="../static/vendors/skycons/skycons.js"></script> -->
    <!-- Flot -->
    <!-- <script src="../static/vendors/Flot/jquery.flot.js"></script>
    <script src="../static/vendors/Flot/jquery.flot.pie.js"></script>
    <script src="../static/vendors/Flot/jquery.flot.time.js"></script>
    <script src="../static/vendors/Flot/jquery.flot.stack.js"></script>
    <script src="../static/vendors/Flot/jquery.flot.resize.js"></script> -->
    <!-- Flot plugins -->
    <!-- <script src="../static/vendors/flot.orderbars/js/jquery.flot.orderBars.js"></script>
    <script src="../static/vendors/flot-spline/js/jquery.flot.spline.min.js"></script>
    <script src="../static/vendors/flot.curvedlines/curvedLines.js"></script> -->
    <!-- DateJS -->
    <!-- <script src="../static/vendors/DateJS/build/date.js"></script> -->
    <!-- JQVMap -->
    <!-- <script src="../static/vendors/jqvmap/dist/jquery.vmap.js"></script>
    <script src="../static/vendors/jqvmap/dist/maps/jquery.vmap.world.js"></script>
    <script src="../static/vendors/jqvmap/examples/js/jquery.vmap.sampledata.js"></script> -->
    <!-- bootstrap-daterangepicker -->
    <!-- <script src="../static/vendors/moment/min/moment.min.js"></script>
    <script src="../static/vendors/bootstrap-daterangepicker/daterangepicker.js"></script> -->



    <script src="../static/vendors/raphael/raphael.min.js"></script>
    <script src="../static/vendors/morris.js/morris.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery-cookie/1.4.1/jquery.cookie.js"></script>
  
  <script src="http://code.highcharts.com/highcharts.js"></script>
<script src="http://code.highcharts.com/modules/data.js"></script>
<script src="http://code.highcharts.com/modules/exporting.js"></script>
<script src="https://code.highcharts.com/modules/drilldown.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/jqueryui/1.12.1/jquery-ui.min.js"></script>




        <!-- Custom Theme Scripts -->
    <!-- <script src="../build/js/custom.min.js"></script> -->

    <!-- <script src="../static/build/js/custom_example.js"></script> -->
  <script>
   $('.carousel').carousel({
      interval: false
  });

    $("#bar0").click(function(){
      $("#myCarousel0 .ci0 .i1").removeClass("table0");
    });

    $("#table0").click(function(){
      $("#myCarousel0 .ci0 .i1").addClass("table0");
    });

    $("#bar1").click(function(){
      $("#myCarousel0 .ci0 .i2").removeClass("table1");
    });

    $("#table1").click(function(){
      $("#myCarousel0 .ci0 .i2").addClass("table1");
    });

    $("#bar2").click(function(){
      $("#myCarousel1 .ci1").removeClass("table2");
    });

    $("#table2").click(function(){
      $("#myCarousel1 .ci1").addClass("table2");
    });
</script>




<script type="text/javascript">

last_val="";

  function show_hide_tables(val){
    if (val!=last_val){
      console.log(val);
      $(".showhide").fadeOut(300);
      $("#"+val).fadeIn(300);
      last_val=val;
    }
  }

 var json_string = {{resp|tojson}};




  var url_redirect_objects=
["/metrics/",
"/metrics/revenue_employee",
"/metrics/employee_cost_to_revenue",
"/metrics/employee_cost_avg",
"/metrics/attrition_voluntary",
"/metrics/attrition_all",
"/metrics/hiring_quarterly",
"/metrics/hiring_annual",
"/metrics/hiring_cost",
"/metrics/time_to_hire",
"/metrics/headcount_hr"
];

 var recieved_arr=$.parseJSON($.cookie("nxt_arr"));
  // var recieved_arr=[1,2,4];

  current_url = window.location.pathname;
  pg_val = url_redirect_objects.indexOf(current_url);

  function go_next_link(){

    init_change(1);
    return 0;


    if (recieved_arr.length==1){
      return 0;
    }
    // url_redirect_objects.indexOf(pg_val);
    index=recieved_arr.indexOf(pg_val)
    if (index==recieved_arr.length-1){
      index=0;
    }
    else{
      index=index+1
    }
    window.location.href=url_redirect_objects[recieved_arr[index]];
  }

function go_prev_link(){
      init_change(-1);
    return 0;

    if (recieved_arr.length==1){
      return 0;
    }

    // url_redirect_objects.indexOf(pg_val);
    index=recieved_arr.indexOf(pg_val)
    if (index==0){
      index=recieved_arr.length-1;
    }
    else{
      index=index-1
    }
    window.location.href=url_redirect_objects[recieved_arr[index]];

  }


function create_table_elements(value,div_id){

  function create_table_row(val,val2){
    $("#table_body"+div_id).append(val).fadeIn(500);
    $("#table_body_graph"+div_id).append(val2);

  }

  if (div_id==1){
      obj_table_map = {"tier":json_string[json_index_1].data.tier,"peers":json_string[json_index_1].data.peers,"industry":json_string[json_index_1].data.industry};
  }
  else{
   obj_table_map = {"tier":json_string[json_index].data.tier,"peers":json_string[json_index].data.peers,"industry":json_string[json_index].data.industry}; 
  }

  // console.log(obj_table_map[value]);
  graph_provider(obj_table_map[value],div_id)

  $.each(obj_table_map[value],function(i,e){
   if (e!=-1 && i=="user_data"){
     row_element ='<ul class="tb tbody"> <li>You </li><li>'+e+'</li></ul>';
     t_g = '<tr><td>You</td><td>'+e+'</td></tr>'
     create_table_row(row_element,t_g);
   } 

   if (e!=-1 && i=="data"){
     row_element ='<ul class="tb tbody"><li> Everyone Else </li><li>'+e+'</li></ul>';
     t_g = '<tr><td>Everyone Else </td><td>'+e+'</td></tr>'
     create_table_row(row_element,t_g);
   } 


   if ( i=="tab_data"){
    if (e.length>0 )
    {   
    $.each(e,function(inc,el)
    {
       row_element ='<ul class="tb tbody"><li>'+el.name+'</li><li>'+el.data+'</li></ul>';
       t_g = '<tr><td>'+el.name+' </td><td>'+el.data+'</td></tr>'
       create_table_row(row_element,t_g);
    });
     
   } 

   }

// graph_provider();
   
  });

  // 
}

function destroy_table_elements(div_id)
{

$("#table_body"+div_id).fadeOut(50).empty();//,function(){$(this).empty()});
  // $("#table_body").empty();
$("#table_body_graph"+div_id).empty();

}

function change_title(value,div_id)
{

$("#title"+div_id).text(value);

}

function change_tab(value,div_id){

destroy_table_elements(div_id);
create_table_elements(value,div_id);

}

var json_index=0;
var json_index_1=json_index+1;

function init_change(val1){

  function change(tmp_index){
    // console.log(json_string.length);
  
    if (json_string.length==1){ //val!=0
      $("#data1").css("display","none");
      $("#bar1").css("display","none");
      $("#table1").css("display","none");
      $(".carousel-tabs-inner ul").css("float","none");
      $(".carousel-tabs-inner ul:last-of-type").hide();
      

      return 0
    }

    if (val1==1){
      if (tmp_index>=json_string.length-1){
        tmp_index=0;
      }
      else{
       tmp_index=tmp_index+1; 
      }
    }

    if (val1==-1){
      if (tmp_index<=0){
        tmp_index=json_string.length-1;
      }
      else{
       tmp_index=tmp_index-1; 
      }
    }

    return tmp_index

  }
  json_index=change(json_index);
  json_index_1=change(json_index_1);

  console.log(json_index);
  console.log(json_index_1);

  change_title(json_string[json_index].data.head,0);
  change_title(json_string[json_index_1].data.head,1);
  change_title(json_string[json_index].data.head,2);

  destroy_table_elements(0);
  destroy_table_elements(1);
  destroy_table_elements(2);

  $("#def_click0").click();
  $("#def_click1").click();
  $("#def_click2").click();

  // create_table_elements("tier");

}



/*var graph_provider_bkp = function () {
    var options = {
        data: {
            table: document.getElementById('graph-table'),
            switchRowsAndColumns: true
        },
        chart: {
            type: 'column'
        },
        yAxis: {
            allowDecimals: false,
            title: {
                text: null,
            }
        },
        title:{
          text:null,

        },

        xAxis: {
          title: {
            text:null,
            // labels: null,
          },
          labels:{
            enabled:false,
          }
        },
        credits: {
          enabled:false,
        }
    };

    $('#graph').highcharts(Highcharts.merge(options));
    $('#toggle').click(function () {
        options.data.switchRowsAndColumns = !options.data.switchRowsAndColumns;
        $('#graph').highcharts(Highcharts.merge(options));
    });
};
*/

function data_graph(value){
  var resp_val = []
  $.each(value,function(i,v){
  if(i!=="drill_down"){
    if(v.constructor === Array){
      $.each(v,function(ind,val){
      resp_val.push({"name":val["name"],"y":parseFloat(val["data"])});
      });
    }
    else{
      if (v!=-1){
        if (i=="user_data"){
          resp_val.push({"name":"You","y":parseFloat(v)})
        }
        else if(i=="data"){
         resp_val.push({"name":"Your Industry","y":parseFloat(v)}) 
        }
        else{
          resp_val.push({"name":i,"y":parseFloat(v)})
          }
      }
    }
  }

});

if(value["drill_down"].length>0){
  $.each(resp_val,function(i,v){
    v["drilldown"]=v["name"]
  });
}

console.log(resp_val);

return resp_val
}



function data_graph_drilldown_legends(value){

  function create_array(value,val,resp){
    // console.log(resp.map(function(el){return el.name}));
    index = resp.map(function(el){return el.name}).indexOf(val["name"])
    // console.log(val["name"]);
    // console.log("index: "+index);
    if (index==-1){
      resp.push({"name":val["name"],"data":[{"name":val["name"],"y":parseFloat(val["data"]),"drilldown":[] } ] })
      drill_down_data=data_drilldown_new(value["drill_down"],val["name"]);
      resp[resp.length-1]["data"][0]["drilldown"]=drill_down_data;
    }
    else{
      resp[index]["data"].push({"name":val["name"],"y":parseFloat(val["data"]) })
    }
    return resp;
  }


  var resp_val = []
  $.each(value,function(i,v){
  if(i!=="drill_down"){
    if(v.constructor === Array){
      $.each(v,function(ind,val)
      {
        resp_val = create_array(value,val,resp_val)
      // resp_val.push({"name":val["name"],"data":[{"name":val["name"],"y":parseFloat(val["data"])}]})
      });
    }
    else{
      if (v!=-1){
        if (i=="user_data"){
          resp_val =  create_array(value,{"name":"You","y":parseFloat(v)},resp_val);
          // resp_val.push({"name":"You","y":parseFloat(v)})
        }
        else if(i=="data"){
          resp_val = create_array(value,{"name":"Your Industry","y":parseFloat(v)},resp_val);
         // resp_val.push({"name":"Your Industry","y":parseFloat(v)}) 
        }
        else{
          resp_val =  create_array(value,{"name":i,"y":parseFloat(v)},resp_val);
          // resp_val.push({"name":i,"y":parseFloat(v)})
          }
      }
    }
  }

});

console.log("here check it");
console.log(resp_val)
return resp_val
}


function data_drilldown_new(value,name){
  var resp_val={};
  var data=[];
  var categories=[];
  $.each(value,function(ind,val){
    if (name==val["name"]){
        index = categories.map(function(el){return el.name}).indexOf(val["sub_name"])
        if (index == -1 ){
          // resp_val.push({"name":val["name"],"id":val["name"],"data":[]})
          categories.push(val["sub_name"]);
          data.push(parseFloat(val["data"]))

          // console.log(categories + "  " + data);

          // resp_val[resp_val.length-1]["data"].push([val["sub_name"],parseFloat(val["data"])])
        }
        
        // else{
        //   resp_val[index]["data"].push([val["sub_name"],parseFloat(val["data"])])
        // }

    }

  });
resp_val={"data":data,"categories":categories,"type": 'column'};
return resp_val

}



function data_drilldown(value){
  console.log("in drilldown");
  console.log(value);
  var resp_val=[]
  $.each(value,function(ind,val){
    index = resp_val.map(function(el){return el.name}).indexOf(val["name"])
    if (index == -1 ){
      resp_val.push({"name":val["name"],"id":val["name"],"data":[]})
      resp_val[resp_val.length-1]["data"].push([val["sub_name"],parseFloat(val["data"])])
    }
    else{
      resp_val[index]["data"].push([val["sub_name"],parseFloat(val["data"])])
    }
  });
// console.log(resp_val);
return resp_val

}

var graph_provider = function (value,div_id) {
  // console.log(value);
    var options = {
      lang: {
               drillUpText: '◁ Back'
           },
        chart: {
            type: 'column'
        },
        yAxis: {
            allowDecimals: false,
            title: {
                text: null,
            }
        },
        title:{
          text:null,

        },

        xAxis: {
          type: 'category',
          // title: {
          //   text:null,
          //   // labels: null,
          // },
          labels:{
            enabled:true,
            // autoRotation:45,
            rotation:-45,
          },
          legend: {
              enabled: true
             },
        },
        credits: {
          enabled:false,
        },
        series:data_graph(value),
        series:[{
          showInLegend: false,
          name:"",
          data: data_graph(value),
        }],
        // series:data_graph_drilldown_legends(value),

        drilldown:{
          "series":data_drilldown(value["drill_down"]),
        }
    };

    $('#graph'+div_id).highcharts(Highcharts.merge(options));
    $('#toggle').click(function () {
        options.data.switchRowsAndColumns = !options.data.switchRowsAndColumns;
        $('#graph'+div_id).highcharts(Highcharts.merge(options));
    });
};


init_change(0);

// $(".dropdown").click(function(){
//   $(".dropdown-content").fadeIn();
//   event.stopPropagation();
// })

</script>

  </body>

</html>
